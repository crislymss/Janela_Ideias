{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Chau+Philomene+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <link rel="stylesheet" href="../static/css/header.css">
    <link rel="stylesheet" href="../static/css/catalogo.css">
    <link rel="stylesheet" href="../static/css/footer.css">

    <link rel="icon" href="../static/images/janela.png" type="image/png">

    <title>Catálogo de Startups</title>
</head>

<body class="catalogo-page">
    <header>
      <div class="logo">
        <img src="../static/images/logo.png" alt="Logo Janela de Ideias">
      </div>

      <div class="menu-toggle" id="menu-toggle" aria-label="Abrir menu" aria-expanded="false" role="button">
        <span></span>
        <span></span>
        <span></span>
      </div>

      <nav id="nav-menu">
        <a href="{% url 'home' %}">Início</a>
        <a href="{% url 'home' %}#sobre">Sobre</a>
        <a href="{% url 'catalogo' %}">Catálogo</a>
      </nav>
    </header>

    <main class="catalogo-main">
        <!-- Hero Section -->
        <section class="hero-catalogo" style=" background-image: url({% static "../static/images/texture2.png" %}), linear-gradient(to bottom right, #dcfa7cff, #6fb5fbff);">
            <div class="container">
                <h1 class="titulo-principal">Catálogo de Startups</h1>
                
                <div class="estatisticas">
                    <div class="stat-item">
                        <span class="numero numero-azul">{{ total_startups }}</span>
                        <span class="label">Startups Cadastradas</span>
                    </div>
                    <div class="stat-item">
                        <span class="numero numero-amarelo">{{ total_setores }}</span>
                        <span class="label">Setores Atendidos</span>
                    </div>
                    <div class="stat-item">
                        <span class="numero numero-verde">{{ total_incubadoras }}</span>
                        <span class="label">Incubadoras Ativas</span>
                    </div>
                </div>

                
                <p class="descricao">Descubra inovações que estão transformando diferentes setores da economia piauiense</p>
            </div>
        </section>

        <!-- Search and Filters Section -->
        <section class="filtros-section">
            <div class="container">
                <div class="filtros-container">
                    <div class="filtros-flex">
                        <div class="search-box">
                            <input type="text" placeholder="Buscar startups..." class="search-input">
                            <i class="bi bi-search"></i>
                        </div>
                        
                        <div class="filtros">
                            <select class="filtro-select" id="filtro-incubadora">
                                <option value="">Todas as incubadoras</option>
                                {% for incubadora in incubadoras_distintas %}
                                <option value="{{ incubadora }}" {% if incubadora == incubadora_atual %}selected{% endif %}>{{ incubadora }}</option>
                                {% endfor %}
                            </select>
                            
                            <select class="filtro-select" id="filtro-setor">
                                <option value="">Todos os setores</option>
                                {% for setor in setores_distintos %}
                                <option value="{{ setor }}" {% if setor == setor_atual %}selected{% endif %}>{{ setor }}</option>
                                {% endfor %}
                            </select>

                        </div>
                    </div>

                    <div class="resultado-busca">
                        <span>{{ startups|length }} startups encontradas</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Startups Grid -->
        <section class="startups-grid-section">
            <div class="container">
                <div class="startups-grid">
                    {% for startup in startups %}
                    <div class="startup-card 
                            {% if forloop.counter > 10 %}card-limit-mobile{% endif %}
                            {% if forloop.counter > 30 %}card-limit-desktop{% endif %}">
                        <div class="card-header">
                            <div class="startup-icon">
                                {% if startup.logo_startup %}
                                    <img src="{% if startup.logo_startup%}{{ startup.logo_startup.url }}{% else %}{% static 'images/usuario.jpg' %}{% endif %}" alt="Logo da {{ startup.nome_startup }}" class="startup-logo">
                                {% else %}
                                    <div class="icon-bg">
                                        <i class="bi bi-rocket-takeoff-fill"></i>
                                    </div>
                                {% endif %}
                            </div>
                            <span class="setor-tag">{{ startup.setor_atuacao }}</span>
                        </div>

                        <h3 class="startup-nome">{{ startup.nome_startup }}</h3>
                        <p class="startup-descricao">{{ startup.sobre_a_startup|truncatechars:150 }}</p>
                        <span class="incubadora" style="display:none;">{{ startup.incubadora }}</span>
                        <span class="setor-tag" style="display:none;">{{ startup.setor_atuacao }}</span>
                        <hr>
                        <a href="{% url 'perfil' startup.id %}" class="ver-detalhes"> 
                            Ver Detalhes <i class="bi bi-box-arrow-up-right"></i>
                        </a>

                    </div>
                    {% empty %}
                    <p>Nenhuma startup cadastrada ainda.</p>
                    {% endfor %}
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section footer-logo">
            <div class="logo-footer">
                <img src="../static/images/logo-linear.png" alt="Logo Janela de Ideias">
            </div>
            <p>Uma ação da Pró-Reitoria de Pesquisa e Inovação PROPESQI/UFPI</p>
            </div>

            <div class="footer-section">
            <h3>Navegação</h3>
            <ul>
                <li><a href="{% url 'home' %}">Início</a></li>
                <li><a href="{% url 'home' %}#sobre">Sobre</a></li>
                <li><a href="{% url 'catalogo' %}">Catálogo</a></li>
            </ul>
            </div>

            <div class="footer-section">
            <h3>Contato</h3>
            <div class="contact-info">
                <p><i class="bi bi-envelope-fill"></i> propesqi@ufpi.edu.br</p>
                <p>Bairro Ininga - Teresina - PI</p>
                <p>CEP: 64049-550</p>
                <p>Universidade Federal do Piauí - UFPI</p>
                <p>Campus Universitário Ministro Petrônio Portella</p>
            </div>
            </div>

            <div class="footer-section">
            <h3>Redes Sociais</h3>
            <div class="social-links">
                <a href="https://www.instagram.com/propesqiufpi" class="social-link">
                <i class="bi bi-instagram"></i> @propesqiufpi
                </a>
            </div>
            </div>
        </div>

        <div class="footer-bottom">
            <p>© 2025 PROPESQI-UFPI. Todos os direitos reservados.</p>
            <a href="https://inovaufpi.ufpi.br/janeladeideias/admin/login/?next=/admin/" class="footer-icon" title="Acessar o painel do admin"><i class="bi bi-person-circle"></i></a>
        </div>
    </footer>

    <script src="../static/js/catalogo.js"></script>
</body>
</html>
